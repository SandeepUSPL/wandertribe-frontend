{"version":3,"sources":["./src/app/demand/demand.component.html","./src/app/demand/demand-routing.module.ts","./src/app/demand/demand.component.css","./src/app/demand/demand.component.ts","./src/app/demand/demand.module.ts","./src/app/demand/store/demand.actions.ts","./src/app/demand/store/demand.effects.ts","./src/app/demand/store/demand.reducer.ts","./src/app/roles/business/treks/treks.model.ts"],"names":[],"mappings":"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","file":"demand-demand-module-es2015.js","sourcesContent":["module.exports = \"<router-outlet></router-outlet>\\n\"","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: 'treks', loadChildren: () => import('./treks/treks.module').then(module => module.TreksModule),\n  },\n  {\n    path: 'events', loadChildren: () => import('./events/events.module').then(module => module.EventsModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DemandRoutingModule {\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RlbWFuZC9kZW1hbmQuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-demand',\n  templateUrl: './demand.component.html',\n  styleUrls: ['./demand.component.css']\n})\nexport class DemandComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {DemandRoutingModule} from './demand-routing.module';\nimport {DemandComponent} from './demand.component';\nimport {StoreModule} from '@ngrx/store';\nimport {EffectsModule} from '@ngrx/effects';\nimport {DemandReducer} from './store/demand.reducer';\nimport {DemandEffects} from './store/demand.effects';\n\n\n@NgModule({\n  declarations: [\n    DemandComponent,\n  ],\n  imports: [\n    CommonModule,\n    DemandRoutingModule,\n    StoreModule.forFeature('demand', DemandReducer),\n    EffectsModule.forFeature([DemandEffects])\n  ]\n})\nexport class DemandModule {\n}\n","import {Action} from '@ngrx/store';\nimport {TreksModel} from '../../roles/business/treks/treks.model';\nimport {TrekPersonDetailsModel} from '../treks/trekPersonDetails.model';\nimport {EventPersonDetailsModel} from '../events/eventPersonDetails.model';\n\nexport const TRY_FETCH_TREK = 'TRY_FETCH_TREK';\nexport const SET_ALL_TREK = 'SET_ALL_TREK';\nexport const SET_ACTIVE_TREK = 'SET_ACTIVE_TREK';\nexport const SET_SELECTED_TREK_DETAILS = 'SET_SELECTED_TREK_DETAILS';\n\nexport const TRY_FETCH_EVENT = 'TRY_FETCH_EVENT';\nexport const SET_ALL_EVENT = 'SET_ALL_EVENT';\nexport const SET_ACTIVE_EVENT = 'SET_ACTIVE_EVENT';\nexport const SET_SELECTED_EVENT_DETAILS = 'SET_SELECTED_EVENT_DETAILS';\n\nexport const SET_PRICE = 'SET_PRICE';\n\n\nexport class TryFetchEvent implements Action {\n  readonly type = TRY_FETCH_EVENT;\n\n  constructor(\n    public payload: { _id: string }\n  ) {\n  }\n}\n\nexport class SetActiveEvent implements Action {\n  readonly type = SET_ACTIVE_EVENT;\n\n  constructor(public payload: TreksModel) {\n  }\n}\n\nexport class SetAllEvent implements Action {\n  readonly type = SET_ALL_EVENT;\n\n  constructor(public payload: any) {\n  }\n}\n\n\nexport class SetActiveEventDetails implements Action {\n  readonly type = SET_SELECTED_EVENT_DETAILS;\n\n  constructor(public payload: EventPersonDetailsModel) {\n  }\n\n}\n\n\nexport class SetAllTrek implements Action {\n  readonly type = SET_ALL_TREK;\n\n  constructor(public payload: any) {\n  }\n}\n\nexport class SetActiveTrek implements Action {\n  readonly type = SET_ACTIVE_TREK;\n\n  constructor(public payload: TreksModel) {\n  }\n}\n\nexport class TryFetchTrek implements Action {\n  readonly type = TRY_FETCH_TREK;\n\n  constructor(\n    public payload: { _id: string }\n  ) {\n  }\n}\n\n\nexport class SetPrice implements Action {\n  readonly type = SET_PRICE;\n\n  constructor(public payload: number) {\n  }\n}\n\nexport class SetActiveTrekDetails implements Action {\n  readonly type = SET_SELECTED_TREK_DETAILS;\n\n  constructor(public payload: TrekPersonDetailsModel) {\n  }\n\n}\n\nexport type DemandActions =\n  SetAllEvent | SetActiveEvent | TryFetchEvent |\n  SetActiveEventDetails |\n  SetActiveTrekDetails |\n  SetPrice |\n  TryFetchTrek |\n  SetActiveTrek |\n  SetAllTrek;\n","import {Injectable} from '@angular/core';\nimport {Actions, Effect, ofType} from '@ngrx/effects';\nimport {HttpClient, HttpResponse} from '@angular/common/http';\nimport * as DemandActions from './demand.actions';\nimport * as endPoints from '../../shared/serverEndpoints';\nimport {map, switchMap} from 'rxjs/operators';\n\nInjectable();\n\nexport class DemandEffects {\n  constructor(public action: Actions, public http: HttpClient) {\n  }\n\n  @Effect()\n  fetchSingleEvent = this.action.pipe(\n    ofType(DemandActions.TRY_FETCH_EVENT),\n    map((data: DemandActions.TryFetchEvent) => {\n      return data.payload;\n    }),\n    switchMap((data: {\n      _id: string\n    }) => {\n      return this.http.post(endPoints.eventDetails, data, {observe: 'response'});\n    }),\n    switchMap((response: HttpResponse<any>) => {\n      if (response.status === 200) {\n        return [\n          {\n            type: DemandActions.SET_ACTIVE_EVENT,\n            payload: response.body\n          }\n        ];\n      } else {\n        return [];\n      }\n    })\n  );\n\n  @Effect()\n  fetchSingleTrek = this.action.pipe(\n    ofType(DemandActions.TRY_FETCH_TREK),\n    map((data: DemandActions.TryFetchTrek) => {\n      return data.payload;\n    }),\n    switchMap((data: {\n      _id: string\n    }) => {\n      return this.http.post(endPoints.trekDetails, data, {observe: 'response'});\n    }),\n    switchMap((response: HttpResponse<any>) => {\n      if (response.status === 200) {\n        return [\n          {\n            type: DemandActions.SET_ACTIVE_TREK,\n            payload: response.body\n          }\n        ];\n      } else {\n        return [];\n      }\n    })\n  );\n}\n","import {AppState} from '../../store/app.reducer';\nimport {TreksModel} from '../../roles/business/treks/treks.model';\nimport {DemandActions, SET_PRICE} from './demand.actions';\nimport {TrekPersonDetailsModel} from '../treks/trekPersonDetails.model';\nimport {EventsModel} from '../../roles/business/events/events.model';\nimport {EventPersonDetailsModel} from '../events/eventPersonDetails.model';\n\nexport interface DemandState extends AppState {\n  demandState: State;\n}\n\nexport interface State {\n  eventDemand: {\n    allEvents: any,\n    activeEvent: EventsModel,\n    selectedDetails: EventPersonDetailsModel\n  };\n  trekDemand: {\n    allTreks: any,\n    activeTrek: TreksModel,\n    selectedDetails: TrekPersonDetailsModel\n  };\n  finalPrice: number;\n}\n\nconst initialState: State = {\n  eventDemand: {\n    activeEvent: null,\n    allEvents: null,\n    selectedDetails: null\n  },\n  trekDemand: {\n    allTreks: null,\n    activeTrek: null,\n    selectedDetails: null\n  },\n  finalPrice: 0\n};\n\nexport function DemandReducer(state = initialState, action: DemandActions) {\n  switch (action.type) {\n\n    case 'SET_SELECTED_EVENT_DETAILS': {\n      return {\n        ...state,\n        eventDemand: {\n          ...state.eventDemand,\n          selectedDetails: action.payload\n        }\n      };\n    }\n\n    case 'SET_SELECTED_TREK_DETAILS': {\n      return {\n        ...state,\n        trekDemand: {\n          ...state.trekDemand,\n          selectedDetails: action.payload\n        }\n      };\n    }\n    case 'SET_PRICE': {\n      return {\n        ...state,\n        finalPrice: action.payload\n      };\n    }\n    case 'SET_ALL_TREK': {\n      return {\n        ...state,\n        trekDemand: {\n          ...state.trekDemand,\n          allTreks: action.payload\n        }\n      };\n    }\n    case 'SET_ACTIVE_TREK': {\n      return {\n        ...state,\n        trekDemand: {\n          ...state.trekDemand,\n          activeTrek: action.payload\n        }\n      };\n    }\n    case 'SET_ALL_EVENT': {\n      return {\n        ...state,\n        eventDemand: {\n          ...state.eventDemand,\n          allEvents: action.payload\n        }\n      };\n    }\n    case 'SET_ACTIVE_EVENT': {\n      return {\n        ...state,\n        eventDemand: {\n          ...state.eventDemand,\n          activeEvent: action.payload\n        }\n      };\n    }\n\n    default: {\n      return {\n        ...state\n      };\n    }\n  }\n}\n","import {DatesModel} from '../../../demand/interface/dates.model';\n\nexport class TreksModel {\n  constructor(\n    public _id?: string,\n    public company?: string,\n    public todoPlan?: string,\n    public location?: string,\n    public trekDates?: Array<DatesModel>,\n    public totalDays?: number,\n    public languages?: {\n      hindi: boolean,\n      english: boolean,\n    },\n    public difficultyLevel?: string,\n    public ownerDescription?: string,\n    public naturalDisasterResponsePlan?: string,\n    public emergencyResponsePlan?: string,\n    public cancellationPolicy?: string,\n    public medicalResponsePlan?: string,\n    public trekDayDetails?: [],\n    public trekImage?: [],\n    public provided?: {\n      accommodation: boolean,\n      food: boolean,\n      transport: boolean,\n    },\n    public carry?: string,\n    public pricePerPerson?: number,\n    public minPeople?: number,\n    public maxPeople?: number,\n    public trekTitle?: string,\n    public delFlg?: boolean\n  ) {\n  }\n}\n"],"sourceRoot":"webpack:///"}